<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>demo-shop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
        integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/grid.css">
    <link rel="stylesheet" href="./assets/css/responsive.css">
    <link rel="stylesheet" href="./assets/css/sildershow.css">
    <link rel="stylesheet" href="./assets/img/">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
        rel="stylesheet">
</head>

<body>

    <div class="container-part5">
        <div class="grid wide">
            <div class="row sm-gutter app-content">
                <div class="col l-2 m-0 c-0">
                </div>
                <div class="col l-8 m-0 c-0">
                    <div class="col-box-test">
                        <h1 class="heading-part">PART 1 - photo - Mini Test_1</h1>
                        <button class="btn btn--primary">Part 1</button>

                        <!-- chứa toàn bộ tất cả các câu hỏi của part 5 trong này -->
                        <div class="col-box-view">
                            <form action="" method="POST" class="form" id="form-1">
                                <!-- question 1 - page 1 -->
                                <div data-part="1" class="question fullest-page-1" data-page="1">
                                    <p class="part-lead">Look at the picture and listen to the sentences. Choose the
                                        sentence that best describes the picture:</p>
                                    <div class="myquestion-area form-group">
                                        <p>
                                            <b>Question 1:</b>
                                        </p>
                                        <figure class="picture-area">
                                            <img src="https://www.anhngumshoa.com/uploads/images/resize/550x550/121.jpg"
                                                alt="q1-part1">
                                        </figure>
                                        <div class="audio-area">
                                            <audio
                                                src="https://www.anhngumshoa.com/uploads/sound/dificult_1/difficult_32.mp3"
                                                controls="play"></audio>
                                        </div>
                                        <div class="answer">
                                            <label for="a1" class="form-label answer-number ">
                                                <input name="q1" id="a1" type="radio" value="A" class="form-control">
                                                <strong>A</strong>
                                            </label>
                                            <label for="b1" class="form-label answer-number">
                                                <input name="q1" id="b1" type="radio" value="B" class="form-control">
                                                <strong>B</strong>
                                            </label>
                                            <label for="c1" class="form-label answer-number">
                                                <input name="q1" id="c1" type="radio" value="C" class="form-control">
                                                <strong>C</strong>
                                            </label>
                                            <label for="d1" class="form-label answer-number">
                                                <input name="q1" id="d1" type="radio" value="D" class="form-control">
                                                <strong>D</strong>
                                            </label>
                                        </div>
                                        <span class="form-message"></span>
                                    </div>
                                </div>
                                <div data-part="1" class="question fullest-page-1" data-page="1">
                                    <p class="part-lead">Look at the picture and listen to the sentences. Choose the
                                        sentence that best describes the picture:</p>
                                    <div class="myquestion-area form-group">
                                        <p>
                                            <b>Question 1:</b>
                                        </p>
                                        <figure class="picture-area">
                                            <img src="https://www.anhngumshoa.com/uploads/images/resize/550x550/121.jpg"
                                                alt="q1-part1">
                                        </figure>
                                        <div class="audio-area">
                                            <audio
                                                src="https://www.anhngumshoa.com/uploads/sound/dificult_1/difficult_32.mp3"
                                                controls="play"></audio>
                                        </div>
                                        <div class="answer">
                                            <label for="a2" class="form-label answer-number ">
                                                <input name="q2" id="a2" type="radio" value="A" class="form-control">
                                                <strong>A</strong>
                                            </label>
                                            <label for="b2" class="form-label answer-number">
                                                <input name="q2" id="b2" type="radio" value="B" class="form-control">
                                                <strong>B</strong>
                                            </label>
                                            <label for="c2" class="form-label answer-number">
                                                <input name="q2" id="c2" type="radio" value="C" class="form-control">
                                                <strong>C</strong>
                                            </label>
                                            <label for="d2" class="form-label answer-number">
                                                <input name="q2" id="d2" type="radio" value="D" class="form-control">
                                                <strong>D</strong>
                                            </label>
                                        </div>
                                        <span class="form-message"></span>
                                    </div>
                                </div>
                                <div data-part="1" class="question fullest-page-1" data-page="1">
                                    <p class="part-lead">Look at the picture and listen to the sentences. Choose the
                                        sentence that best describes the picture:</p>
                                    <div class="myquestion-area form-group">
                                        <p>
                                            <b>Question 1:</b>
                                        </p>
                                        <figure class="picture-area">
                                            <img src="https://www.anhngumshoa.com/uploads/images/resize/550x550/121.jpg"
                                                alt="q1-part1">
                                        </figure>
                                        <div class="audio-area">
                                            <audio
                                                src="https://www.anhngumshoa.com/uploads/sound/dificult_1/difficult_32.mp3"
                                                controls="play"></audio>
                                        </div>
                                        <div class="answer">
                                            <label for="a3" class="form-label answer-number ">
                                                <input name="q3" id="a3" type="radio" value="A" class="form-control">
                                                <strong>A</strong>
                                            </label>
                                            <label for="b3" class="form-label answer-number">
                                                <input name="q3" id="b3" type="radio" value="B" class="form-control">
                                                <strong>B</strong>
                                            </label>
                                            <label for="c3" class="form-label answer-number">
                                                <input name="q3" id="c3" type="radio" value="C" class="form-control">
                                                <strong>C</strong>
                                            </label>
                                            <label for="d3" class="form-label answer-number">
                                                <input name="q3" id="d3" type="radio" value="D" class="form-control">
                                                <strong>D</strong>
                                            </label>
                                        </div>
                                        <span class="form-message"></span>
                                    </div>
                                </div>

                                <!-- các nút chuyển back, next, submit -->
                                <div class="pageing" data-page="1">
                                    <!-- <a class="btn back">BACK</a> -->
                                    <!-- <a class="btn next">NEXT</a> -->
                                    <button class="form-submit btn btn--primary submit">SUBMIT</button>
                                </div>
                            </form>

                        </div>

                    </div>
                </div>
                <div class="col l-2 m-0 c-0">
                    <div class="box-time">
                        <h2 class="heading-time">Countdown timer:</h2>
                        <div id="timer"></div>
                    </div>
                </div>
            </div>
            <div class="row sm-gutter app-content">
                <div class="col l-2 m-0 c-0"></div>
                <div class="col l-8 m-12 c-12">
                    <div class="col-show-result">
                        <h2 class="heading-point">Điểm số của bạn là:</h2>
                        <span class="show-point">990</span>
                        <div class="result">
                            <h3 class="heading-result">Đáp án:</h3>
                            <ul class="list-answer">
                                <li class="answer-item">1. A</li>
                                <li class="answer-item">2. A</li>
                                <li class="answer-item">3. A</li>
                                <li class="answer-item">4. A</li>
                                <li class="answer-item">5. A</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col l-2 m-0 c-0"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="grid wide">
            <div class="row ">
                <div class="col l-2-4 m-4 c-6">
                    <h3 class="footer__heading">Dịch vụ</h3>
                    <ul class="footer-list">
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Trung tâm trợ giúp</a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Toeic Fighter blog</a>
                        </li>
                    </ul>
                </div>
                <div class="col l-2-4 m-4 c-6">
                    <h3 class="footer__heading">Về Toeic Fighter</h3>
                    <ul class="footer-list">
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Giới thiệt về Toeic Fighter</a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Tuyển dụng nhân sự</a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Điều khoản website</a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Chính sách bảo mật</a>
                        </li>
                    </ul>
                </div>
                <div class="col l-2-4 m-4 c-6">
                    <h3 class="footer__heading">Thi online</h3>
                    <ul class="footer-list">
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Toeic 2022</a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Toeic 2021</a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">Toeic 2020</a>
                        </li>
                    </ul>
                </div>
                <div class="col l-2-4 m-4 c-6">
                    <h3 class="footer__heading">Theo dõi chúng tôi trên</h3>
                    <ul class="footer-list">
                        <li class="footer-item">
                            <a href="" class="footer-item__link">
                                <i class="footer-item__icon fa-brands fa-facebook"></i>
                                Facebook
                            </a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">
                                <i class="footer-item__icon fa-brands fa-instagram"></i>
                                Instagram
                            </a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">
                                <i class="footer-item__icon fa-brands fa-linkedin"></i>
                                Linkedln
                            </a>
                        </li>
                        <li class="footer-item">
                            <a href="" class="footer-item__link">
                                <i class="footer-item__icon fa-brands fa-facebook-messenger"></i>
                                Messenger
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="col l-2-4 m-8 c-6">
                    <h3 class="footer__heading">Tải ứng dụng Toeic Fighter ngay</h3>
                    <div class="footer-download">
                        <a href="" class="footer-download__qr">
                            <img src="./assets/img/qr-code.png" alt="" class="footer__qr">
                        </a>
                        <div class="footer-items__apps">
                            <a href="" class="footer-item__apps">
                                <img src="./assets/img/app-store.png" alt="" class="footer__app-store">
                            </a>
                            <a href="" class="footer-item__apps"></a>
                            <img src="./assets/img/google-play.png" alt="" class="footer__google-play">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div class="footer__bottom">
        <div class="grid wide">
            <div class="footer__copyright">
                <span class="footer__text">© 2022 - Bản quyền thuộc về Công ty TNHH A+</span>
            </div>
        </div>
    </div>
    <script src="./handlePart.js"></script>
    <!-- Xử lý việc submit câu trả lời -->
    <script>
        function countDown(h, m, s) {
            // Set the date we're counting down to
            const currentYear = new Date().getFullYear()
            // console.log(currentYear)
            const currentMonth = new Date().getMonth() + 1
            // console.log(currentMonth)
            const currentDay = new Date().getDate()
            // console.log(currentDay)
            const currentHour = new Date().getHours() + h
            // console.log(currentHour)
            const currentMin = new Date().getMinutes() + m
            const currentSec = new Date().getSeconds() + s
            var countDownDate = new Date(`${currentMonth} ${currentDay} ${currentYear} ${currentHour}:${currentMin}:${currentSec}`);

            // Update the count down every 1 second
            var x = setInterval(function () {

                // Get today's date and time
                var now = new Date().getTime();

                // Find the distance between now and the count down date
                var distance = countDownDate - now;
                //   console.log(distance)

                // Time calculations for days, hours, minutes and seconds
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                // Output the result in an element with id="demo"
                document.getElementById("timer").innerHTML = hours + "h "
                    + minutes + "m " + seconds + "s "

                // If the count down is over, write some text 
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("timer").innerHTML = "TIME UP";
                    var res = document.querySelector('.col-show-result')
                    res.style.display = 'block'

                }
            }, 1000);
            Validator({
                form: '#form-1',
                formGroupSelector: '.form-group',
                errorSelector: '.form-message',
                rules: [
                    Validator.isRequired('input[name="q1"]'),
                    Validator.isRequired('input[name="q2"]'),
                    Validator.isRequired('input[name="q3"]'),
                ],
                onSubmit: function (data) {
                    console.log(data)
                    clearInterval(x);
                    var res = document.querySelector('.col-show-result')
                    res.style.display = 'block'

                }
            });

        }
        countDown(0, 11, 0)
    </script>

    <script>

        let xhr = new XMLHttpRequest();
        let url = "http://localhost:5000/test/part1/test1";
        // open a connection
        xhr.open("POST", url, true);
        // Set the request header i.e. which type of content you are sending
        xhr.setRequestHeader("Content-Type", "application/json");
        // Create a state change callback
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {

                // Print received data from server
                result.innerHTML = this.responseText;
            }
        };
        xhr.addEventListener('load', function () {
            received_data = JSON.parse(xhr.responseText);
            console.log(received_data)
        })
    </script>

</body>

</html>